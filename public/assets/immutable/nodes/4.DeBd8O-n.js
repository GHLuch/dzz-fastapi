import{s as G,X as Be,Y as Ie,b as P,f as d,h as g,i as we,j as T,k as E,n as M,x as $,Z as B,e as k,c as p,_ as j,$ as b,l as ie,y as ee,z as te,A as le,a0 as L,a1 as ae,a2 as be,D as Ge,a3 as Ke,q as Re,a4 as We,u as A,v as O,a5 as Ve,a as K,a6 as ze,d as R,m as Ue,w as ue,L as Xe,J as Je,B as oe,a7 as Ye,g as Ze,t as je,a8 as Qe}from"../chunks/scheduler.CNyn7n1I.js";import{S as U,i as J,t as v,a as C,f as xe,h as $e,j as Se,g as _e,c as he,b as W,d as X,m as Y,e as Z}from"../chunks/index.BeSP3sf6.js";import{t as et}from"../chunks/task_store.CRjp3V4u.js";import{w as tt}from"../chunks/index.BE9nXfQB.js";function qe(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}function N(o,e){const l={},n={},t={$$scope:1};let s=o.length;for(;s--;){const i=o[s],a=e[s];if(a){for(const r in i)r in a||(n[r]=1);for(const r in a)t[r]||(l[r]=a[r],t[r]=1);o[s]=a}else for(const r in i)t[r]=1}for(const i in n)i in l||(l[i]=void 0);return l}function fe(o){return typeof o=="object"&&o!==null?o:{}}function lt(o){let e,l,n;return{c(){e=Be("svg"),l=Be("circle"),this.h()},l(t){e=Ie(t,"svg",{height:!0,width:!0,style:!0,class:!0,viewBox:!0});var s=P(e);l=Ie(s,"circle",{role:!0,cx:!0,cy:!0,r:!0,stroke:!0,fill:!0,"stroke-width":!0,"stroke-dasharray":!0,"stroke-linecap":!0}),P(l).forEach(d),s.forEach(d),this.h()},h(){g(l,"role","presentation"),g(l,"cx","16"),g(l,"cy","16"),g(l,"r",o[4]),g(l,"stroke",o[2]),g(l,"fill","none"),g(l,"stroke-width",o[3]),g(l,"stroke-dasharray",n=o[5]+",100"),g(l,"stroke-linecap","round"),g(e,"height",o[0]),g(e,"width",o[0]),we(e,"animation-duration",o[1]+"ms"),g(e,"class","svelte-spinner svelte-1bbsd2f"),g(e,"viewBox","0 0 32 32")},m(t,s){T(t,e,s),E(e,l)},p(t,[s]){s&16&&g(l,"r",t[4]),s&4&&g(l,"stroke",t[2]),s&8&&g(l,"stroke-width",t[3]),s&32&&n!==(n=t[5]+",100")&&g(l,"stroke-dasharray",n),s&1&&g(e,"height",t[0]),s&1&&g(e,"width",t[0]),s&2&&we(e,"animation-duration",t[1]+"ms")},i:M,o:M,d(t){t&&d(e)}}}function nt(o,e,l){let{size:n=25}=e,{speed:t=750}=e,{color:s="rgba(0,0,0,0.4)"}=e,{thickness:i=2}=e,{gap:a=40}=e,{radius:r=10}=e,m;return o.$$set=f=>{"size"in f&&l(0,n=f.size),"speed"in f&&l(1,t=f.speed),"color"in f&&l(2,s=f.color),"thickness"in f&&l(3,i=f.thickness),"gap"in f&&l(6,a=f.gap),"radius"in f&&l(4,r=f.radius)},o.$$.update=()=>{o.$$.dirty&80&&l(5,m=2*Math.PI*r*(100-a)/100)},[n,t,s,i,r,m,a]}class st extends U{constructor(e){super(),J(this,e,nt,lt,G,{size:0,speed:1,color:2,thickness:3,gap:6,radius:4})}}function ot(o){let e,l,n,t;const s=o[2].default,i=$(s,o,o[1],null);let a=[{"aria-label":"thumbnail"},o[0]],r={};for(let m=0;m<a.length;m+=1)r=B(r,a[m]);return{c(){e=k("div"),i&&i.c(),this.h()},l(m){e=p(m,"DIV",{"aria-label":!0});var f=P(e);i&&i.l(f),f.forEach(d),this.h()},h(){j(e,r),b(e,"svelte-lightbox-thumbnail",!0),b(e,"svelte-hpqpx9",!0)},m(m,f){T(m,e,f),i&&i.m(e,null),l=!0,n||(t=ie(e,"click",o[3]),n=!0)},p(m,[f]){i&&i.p&&(!l||f&2)&&ee(i,s,m,m[1],l?le(s,m[1],f,null):te(m[1]),null),j(e,r=N(a,[{"aria-label":"thumbnail"},f&1&&m[0]])),b(e,"svelte-lightbox-thumbnail",!0),b(e,"svelte-hpqpx9",!0)},i(m){l||(v(i,m),l=!0)},o(m){C(i,m),l=!1},d(m){m&&d(e),i&&i.d(m),n=!1,t()}}}function it(o,e,l){const n=[];let t=L(e,n),{$$slots:s={},$$scope:i}=e;function a(r){be.call(this,o,r)}return o.$$set=r=>{e=B(B({},e),ae(r)),l(0,t=L(e,n)),"$$scope"in r&&l(1,i=r.$$scope)},[t,i,s,a]}class at extends U{constructor(e){super(),J(this,e,it,ot,G,{})}}function rt(o){let e,l;const n=o[3].default,t=$(n,o,o[2],null);let s=[o[1]],i={};for(let a=0;a<s.length;a+=1)i=B(i,s[a]);return{c(){e=k("div"),t&&t.c(),this.h()},l(a){e=p(a,"DIV",{});var r=P(e);t&&t.l(r),r.forEach(d),this.h()},h(){j(e,i)},m(a,r){T(a,e,r),t&&t.m(e,null),o[4](e),l=!0},p(a,[r]){t&&t.p&&(!l||r&4)&&ee(t,n,a,a[2],l?le(n,a[2],r,null):te(a[2]),null),j(e,i=N(s,[r&2&&a[1]]))},i(a){l||(v(t,a),l=!0)},o(a){C(t,a),l=!1},d(a){a&&d(e),t&&t.d(a),o[4](null)}}}function ut(o,e,l){const n=[];let t=L(e,n),{$$slots:s={},$$scope:i}=e,a,r;const m=()=>{r=document.createElement("div"),document.body.appendChild(r),r.appendChild(a)},f=()=>{typeof document<"u"&&document.body.removeChild(r)};Ge(m),Ke(f);function u(c){Re[c?"unshift":"push"](()=>{a=c,l(0,a)})}return o.$$set=c=>{e=B(B({},e),ae(c)),l(1,t=L(e,n)),"$$scope"in c&&l(2,i=c.$$scope)},[a,t,i,s,u]}class ft extends U{constructor(e){super(),J(this,e,ut,rt,G,{})}}function ye(o){let e,l,n,t,s=[o[0]],i={};for(let a=0;a<s.length;a+=1)i=B(i,s[a]);return{c(){e=k("button"),l=A("×"),this.h()},l(a){e=p(a,"BUTTON",{});var r=P(e);l=O(r,"×"),r.forEach(d),this.h()},h(){j(e,i),b(e,"fullscreen",o[2]==="fullscreen"),b(e,"svelte-5qj430",!0)},m(a,r){T(a,e,r),E(e,l),e.autofocus&&e.focus(),n||(t=ie(e,"click",o[8]),n=!0)},p(a,r){j(e,i=N(s,[r&1&&a[0]])),b(e,"fullscreen",a[2]==="fullscreen"),b(e,"svelte-5qj430",!0)},d(a){a&&d(e),n=!1,t()}}}function ct(o){let e,l,n,t=o[1]&&ye(o),s=[{class:"svelte-lightbox-header"},o[5]],i={};for(let a=0;a<s.length;a+=1)i=B(i,s[a]);return{c(){e=k("div"),t&&t.c(),this.h()},l(a){e=p(a,"DIV",{class:!0});var r=P(e);t&&t.l(r),r.forEach(d),this.h()},h(){j(e,i),b(e,"fullscreen",o[2]==="fullscreen"),b(e,"svelte-5qj430",!0)},m(a,r){T(a,e,r),t&&t.m(e,null),l||(n=ie(window,"keydown",o[7]),l=!0)},p(a,[r]){a[1]?t?t.p(a,r):(t=ye(a),t.c(),t.m(e,null)):t&&(t.d(1),t=null),j(e,i=N(s,[{class:"svelte-lightbox-header"},r&32&&a[5]])),b(e,"fullscreen",a[2]==="fullscreen"),b(e,"svelte-5qj430",!0)},i:M,o:M,d(a){a&&d(e),t&&t.d(),l=!1,n()}}}function mt(o,e,l){const n=["closeButtonProps","showCloseButton","enableEscapeToClose","imagePreset"];let t=L(e,n);const s=We();let{closeButtonProps:i={}}=e,{showCloseButton:a}=e,{enableEscapeToClose:r}=e,{imagePreset:m}=e;const f=h=>{r&&h.key==="Escape"&&s("close")},u=h=>f(h),c=()=>s("close");return o.$$set=h=>{e=B(B({},e),ae(h)),l(5,t=L(e,n)),"closeButtonProps"in h&&l(0,i=h.closeButtonProps),"showCloseButton"in h&&l(1,a=h.showCloseButton),"enableEscapeToClose"in h&&l(6,r=h.enableEscapeToClose),"imagePreset"in h&&l(2,m=h.imagePreset)},[i,a,m,s,f,t,r,u,c]}class dt extends U{constructor(e){super(),J(this,e,mt,ct,G,{closeButtonProps:0,showCloseButton:1,enableEscapeToClose:6,imagePreset:2})}}function _t(o){let e,l;const n=o[3].default,t=$(n,o,o[2],null);return{c(){e=k("div"),t&&t.c(),this.h()},l(s){e=p(s,"DIV",{class:!0});var i=P(e);t&&t.l(i),i.forEach(d),this.h()},h(){g(e,"class","svelte-lightbox-body svelte-1d3ym4l"),b(e,"fullscreen",o[0]==="fullscreen"),b(e,"scroll",o[0]==="scroll"),b(e,"expand",o[1])},m(s,i){T(s,e,i),t&&t.m(e,null),l=!0},p(s,[i]){t&&t.p&&(!l||i&4)&&ee(t,n,s,s[2],l?le(n,s[2],i,null):te(s[2]),null),(!l||i&1)&&b(e,"fullscreen",s[0]==="fullscreen"),(!l||i&1)&&b(e,"scroll",s[0]==="scroll"),(!l||i&2)&&b(e,"expand",s[1])},i(s){l||(v(t,s),l=!0)},o(s){C(t,s),l=!1},d(s){s&&d(e),t&&t.d(s)}}}function ht(o,e,l){let{$$slots:n={},$$scope:t}=e,{imagePreset:s}=e,{enableImageExpand:i}=e;return o.$$set=a=>{"imagePreset"in a&&l(0,s=a.imagePreset),"enableImageExpand"in a&&l(1,i=a.enableImageExpand),"$$scope"in a&&l(2,t=a.$$scope)},[s,i,t,n]}class gt extends U{constructor(e){super(),J(this,e,ht,_t,G,{imagePreset:0,enableImageExpand:1})}}const bt=tt({generateLocalizedGalleryCounter:(o,e)=>`Image ${o+1} of ${e}`});function Le(o){let e,l;return{c(){e=k("p"),l=A(o[4])},l(n){e=p(n,"P",{});var t=P(e);l=O(t,o[4]),t.forEach(d)},m(n,t){T(n,e,t),E(e,l)},p(n,t){t&16&&ue(l,n[4])},d(n){n&&d(e)}}}function vt(o){let e,l,n,t,s,i,a,r=o[3]!==null&&Le(o),m=[{class:"svelte-lightbox-footer"},o[5]],f={};for(let u=0;u<m.length;u+=1)f=B(f,m[u]);return{c(){e=k("div"),l=k("h2"),n=new Ve(!1),t=K(),s=k("h5"),i=new Ve(!1),a=K(),r&&r.c(),this.h()},l(u){e=p(u,"DIV",{class:!0});var c=P(e);l=p(c,"H2",{});var h=P(l);n=ze(h,!1),h.forEach(d),t=R(c),s=p(c,"H5",{});var w=P(s);i=ze(w,!1),w.forEach(d),a=R(c),r&&r.l(c),c.forEach(d),this.h()},h(){n.a=null,i.a=null,j(e,f),b(e,"fullscreen",o[0]==="fullscreen"),b(e,"svelte-6fc1ka",!0)},m(u,c){T(u,e,c),E(e,l),n.m(o[1],l),E(e,t),E(e,s),i.m(o[2],s),E(e,a),r&&r.m(e,null)},p(u,[c]){c&2&&n.p(u[1]),c&4&&i.p(u[2]),u[3]!==null?r?r.p(u,c):(r=Le(u),r.c(),r.m(e,null)):r&&(r.d(1),r=null),j(e,f=N(m,[{class:"svelte-lightbox-footer"},c&32&&u[5]])),b(e,"fullscreen",u[0]==="fullscreen"),b(e,"svelte-6fc1ka",!0)},i:M,o:M,d(u){u&&d(e),r&&r.d()}}}function kt(o,e,l){let n;const t=["imagePreset","title","description","gallery"];let s=L(e,t),i;Ue(o,bt,c=>l(6,i=c));let{imagePreset:a}=e,{title:r=""}=e,{description:m=""}=e,{gallery:f=null}=e;const u=(c,h)=>{if(h!==null)return c.generateLocalizedGalleryCounter(h.activeImage,h.imageCount)};return o.$$set=c=>{e=B(B({},e),ae(c)),l(5,s=L(e,t)),"imagePreset"in c&&l(0,a=c.imagePreset),"title"in c&&l(1,r=c.title),"description"in c&&l(2,m=c.description),"gallery"in c&&l(3,f=c.gallery)},o.$$.update=()=>{o.$$.dirty&72&&l(4,n=u(i,f))},[a,r,m,f,n,s,i]}class pt extends U{constructor(e){super(),J(this,e,kt,vt,G,{imagePreset:0,title:1,description:2,gallery:3})}}function ge(o,{delay:e=0,duration:l=400,easing:n=Xe}={}){const t=+getComputedStyle(o).opacity;return{delay:e,duration:l,easing:n,css:s=>`opacity: ${s*t}`}}function Pt(o){let e,l,n,t,s,i;const a=o[3].default,r=$(a,o,o[2],null);let m=[{class:"svelte-lightbox-overlay"},{"aria-label":"overlay"},o[1]],f={};for(let u=0;u<m.length;u+=1)f=B(f,m[u]);return{c(){e=k("div"),r&&r.c(),this.h()},l(u){e=p(u,"DIV",{class:!0,"aria-label":!0});var c=P(e);r&&r.l(c),c.forEach(d),this.h()},h(){j(e,f),b(e,"svelte-7wg54p",!0)},m(u,c){T(u,e,c),r&&r.m(e,null),t=!0,s||(i=ie(e,"click",o[4]),s=!0)},p(u,[c]){o=u,r&&r.p&&(!t||c&4)&&ee(r,a,o,o[2],t?le(a,o[2],c,null):te(o[2]),null),j(e,f=N(m,[{class:"svelte-lightbox-overlay"},{"aria-label":"overlay"},c&2&&o[1]])),b(e,"svelte-7wg54p",!0)},i(u){t||(v(r,u),u&&Je(()=>{t&&(n&&n.end(1),l=xe(e,ge,{duration:o[0]*2}),l.start())}),t=!0)},o(u){C(r,u),l&&l.invalidate(),u&&(n=$e(e,ge,{duration:o[0]/2})),t=!1},d(u){u&&d(e),r&&r.d(u),u&&n&&n.end(),s=!1,i()}}}function Et(o,e,l){const n=["transitionDuration"];let t=L(e,n),{$$slots:s={},$$scope:i}=e,{transitionDuration:a}=e;function r(m){be.call(this,o,m)}return o.$$set=m=>{e=B(B({},e),ae(m)),l(1,t=L(e,n)),"transitionDuration"in m&&l(0,a=m.transitionDuration),"$$scope"in m&&l(2,i=m.$$scope)},[a,t,i,s,r]}class Ct extends U{constructor(e){super(),J(this,e,Et,Pt,G,{transitionDuration:0})}}function Tt(o){let e,l,n,t,s;const i=o[4].default,a=$(i,o,o[3],null);let r=[{class:"svelte-lightbox-main"},{"aria-label":"Modal"},o[2]],m={};for(let f=0;f<r.length;f+=1)m=B(m,r[f]);return{c(){e=k("div"),a&&a.c(),this.h()},l(f){e=p(f,"DIV",{class:!0,"aria-label":!0});var u=P(e);a&&a.l(u),u.forEach(d),this.h()},h(){j(e,m),b(e,"fullscreen",o[1]==="fullscreen"),b(e,"scroll",o[1]==="scroll"),b(e,"svelte-891jqp",!0)},m(f,u){T(f,e,u),a&&a.m(e,null),n=!0,t||(s=ie(e,"click",o[5]),t=!0)},p(f,[u]){o=f,a&&a.p&&(!n||u&8)&&ee(a,i,o,o[3],n?le(i,o[3],u,null):te(o[3]),null),j(e,m=N(r,[{class:"svelte-lightbox-main"},{"aria-label":"Modal"},u&4&&o[2]])),b(e,"fullscreen",o[1]==="fullscreen"),b(e,"scroll",o[1]==="scroll"),b(e,"svelte-891jqp",!0)},i(f){n||(v(a,f),f&&Je(()=>{n&&(l||(l=Se(e,ge,{duration:o[0]},!0)),l.run(1))}),n=!0)},o(f){C(a,f),f&&(l||(l=Se(e,ge,{duration:o[0]},!1)),l.run(0)),n=!1},d(f){f&&d(e),a&&a.d(f),f&&l&&l.end(),t=!1,s()}}}function Dt(o,e,l){const n=["transitionDuration","imagePreset"];let t=L(e,n),{$$slots:s={},$$scope:i}=e,{transitionDuration:a}=e,{imagePreset:r}=e;function m(f){be.call(this,o,f)}return o.$$set=f=>{e=B(B({},e),ae(f)),l(2,t=L(e,n)),"transitionDuration"in f&&l(0,a=f.transitionDuration),"imagePreset"in f&&l(1,r=f.imagePreset),"$$scope"in f&&l(3,i=f.$$scope)},[a,r,t,i,s,m]}class Bt extends U{constructor(e){super(),J(this,e,Dt,Tt,G,{transitionDuration:0,imagePreset:1})}}const It=o=>({}),Ne=o=>({});function Fe(o){var s;let e,l;const n=[((s=o[4])==null?void 0:s.thumbnailProps)||{}];let t={$$slots:{default:[zt]},$$scope:{ctx:o}};for(let i=0;i<n.length;i+=1)t=B(t,n[i]);return e=new at({props:t}),e.$on("click",o[10]),{c(){W(e.$$.fragment)},l(i){X(e.$$.fragment,i)},m(i,a){Y(e,i,a),l=!0},p(i,a){var m;const r=a&16?N(n,[fe(((m=i[4])==null?void 0:m.thumbnailProps)||{})]):{};a&540672&&(r.$$scope={dirty:a,ctx:i}),e.$set(r)},i(i){l||(v(e.$$.fragment,i),l=!0)},o(i){C(e.$$.fragment,i),l=!1},d(i){Z(e,i)}}}function wt(o){let e;const l=o[18].default,n=$(l,o,o[19],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,s){n&&n.m(t,s),e=!0},p(t,s){n&&n.p&&(!e||s&524288)&&ee(n,l,t,t[19],e?le(l,t[19],s,null):te(t[19]),null)},i(t){e||(v(n,t),e=!0)},o(t){C(n,t),e=!1},d(t){n&&n.d(t)}}}function Vt(o){let e;const l=o[18].thumbnail,n=$(l,o,o[19],Ne);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,s){n&&n.m(t,s),e=!0},p(t,s){n&&n.p&&(!e||s&524288)&&ee(n,l,t,t[19],e?le(l,t[19],s,It):te(t[19]),Ne)},i(t){e||(v(n,t),e=!0)},o(t){C(n,t),e=!1},d(t){n&&n.d(t)}}}function zt(o){let e,l,n,t;const s=[Vt,wt],i=[];function a(r,m){return r[14].thumbnail?0:1}return e=a(o),l=i[e]=s[e](o),{c(){l.c(),n=oe()},l(r){l.l(r),n=oe()},m(r,m){i[e].m(r,m),T(r,n,m),t=!0},p(r,m){let f=e;e=a(r),e===f?i[e].p(r,m):(_e(),C(i[f],1,1,()=>{i[f]=null}),he(),l=i[e],l?l.p(r,m):(l=i[e]=s[e](r),l.c()),v(l,1),l.m(n.parentNode,n))},i(r){t||(v(l),t=!0)},o(r){C(l),t=!1},d(r){r&&d(n),i[e].d(r)}}}function He(o){let e,l;return e=new ft({props:{$$slots:{default:[yt]},$$scope:{ctx:o}}}),{c(){W(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,t){Y(e,n,t),l=!0},p(n,t){const s={};t&525182&&(s.$$scope={dirty:t,ctx:n}),e.$set(s)},i(n){l||(v(e.$$.fragment,n),l=!0)},o(n){C(e.$$.fragment,n),l=!1},d(n){Z(e,n)}}}function jt(o){let e;const l=o[18].default,n=$(l,o,o[19],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,s){n&&n.m(t,s),e=!0},p(t,s){n&&n.p&&(!e||s&524288)&&ee(n,l,t,t[19],e?le(l,t[19],s,null):te(t[19]),null)},i(t){e||(v(n,t),e=!0)},o(t){C(n,t),e=!1},d(t){n&&n.d(t)}}}function St(o){let e,l,n,t,s,i;const a=[{imagePreset:o[3]},{showCloseButton:o[9]},{enableEscapeToClose:o[8]},{closeButtonProps:o[4].closeButtonProps},o[4].lightboxHeaderProps||{}];let r={};for(let u=0;u<a.length;u+=1)r=B(r,a[u]);e=new dt({props:r}),e.$on("close",o[11]),n=new gt({props:{imagePreset:o[3],enableImageExpand:o[6],$$slots:{default:[jt]},$$scope:{ctx:o}}});const m=[{imagePreset:o[3]},{title:o[1]},{description:o[2]},o[4].lightboxFooterProps||{}];let f={};for(let u=0;u<m.length;u+=1)f=B(f,m[u]);return s=new pt({props:f}),{c(){W(e.$$.fragment),l=K(),W(n.$$.fragment),t=K(),W(s.$$.fragment)},l(u){X(e.$$.fragment,u),l=R(u),X(n.$$.fragment,u),t=R(u),X(s.$$.fragment,u)},m(u,c){Y(e,u,c),T(u,l,c),Y(n,u,c),T(u,t,c),Y(s,u,c),i=!0},p(u,c){const h=c&792?N(a,[c&8&&{imagePreset:u[3]},c&512&&{showCloseButton:u[9]},c&256&&{enableEscapeToClose:u[8]},c&16&&{closeButtonProps:u[4].closeButtonProps},c&16&&fe(u[4].lightboxHeaderProps||{})]):{};e.$set(h);const w={};c&8&&(w.imagePreset=u[3]),c&64&&(w.enableImageExpand=u[6]),c&524288&&(w.$$scope={dirty:c,ctx:u}),n.$set(w);const S=c&30?N(m,[c&8&&{imagePreset:u[3]},c&2&&{title:u[1]},c&4&&{description:u[2]},c&16&&fe(u[4].lightboxFooterProps||{})]):{};s.$set(S)},i(u){i||(v(e.$$.fragment,u),v(n.$$.fragment,u),v(s.$$.fragment,u),i=!0)},o(u){C(e.$$.fragment,u),C(n.$$.fragment,u),C(s.$$.fragment,u),i=!1},d(u){u&&(d(l),d(t)),Z(e,u),Z(n,u),Z(s,u)}}}function qt(o){let e,l;const n=[{imagePreset:o[3]},{transitionDuration:o[5]},o[4].lightboxProps||{}];let t={$$slots:{default:[St]},$$scope:{ctx:o}};for(let s=0;s<n.length;s+=1)t=B(t,n[s]);return e=new Bt({props:t}),e.$on("click",o[13]),{c(){W(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,i){Y(e,s,i),l=!0},p(s,i){const a=i&56?N(n,[i&8&&{imagePreset:s[3]},i&32&&{transitionDuration:s[5]},i&16&&fe(s[4].lightboxProps||{})]):{};i&525150&&(a.$$scope={dirty:i,ctx:s}),e.$set(a)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){C(e.$$.fragment,s),l=!1},d(s){Z(e,s)}}}function yt(o){let e,l;const n=[{transitionDuration:o[5]},o[4].coverProps||{}];let t={$$slots:{default:[qt]},$$scope:{ctx:o}};for(let s=0;s<n.length;s+=1)t=B(t,n[s]);return e=new Ct({props:t}),e.$on("click",o[12]),{c(){W(e.$$.fragment)},l(s){X(e.$$.fragment,s)},m(s,i){Y(e,s,i),l=!0},p(s,i){const a=i&48?N(n,[i&32&&{transitionDuration:s[5]},i&16&&fe(s[4].coverProps||{})]):{};i&525182&&(a.$$scope={dirty:i,ctx:s}),e.$set(a)},i(s){l||(v(e.$$.fragment,s),l=!0)},o(s){C(e.$$.fragment,s),l=!1},d(s){Z(e,s)}}}function Lt(o){let e,l,n,t=(o[14].thumbnail||o[7])&&Fe(o),s=o[0]&&He(o);return{c(){t&&t.c(),e=K(),s&&s.c(),l=oe()},l(i){t&&t.l(i),e=R(i),s&&s.l(i),l=oe()},m(i,a){t&&t.m(i,a),T(i,e,a),s&&s.m(i,a),T(i,l,a),n=!0},p(i,[a]){i[14].thumbnail||i[7]?t?(t.p(i,a),a&16512&&v(t,1)):(t=Fe(i),t.c(),v(t,1),t.m(e.parentNode,e)):t&&(_e(),C(t,1,1,()=>{t=null}),he()),i[0]?s?(s.p(i,a),a&1&&v(s,1)):(s=He(i),s.c(),v(s,1),s.m(l.parentNode,l)):s&&(_e(),C(s,1,1,()=>{s=null}),he())},i(i){n||(v(t),v(s),n=!0)},o(i){C(t),C(s),n=!1},d(i){i&&(d(e),d(l)),t&&t.d(i),s&&s.d(i)}}}function Nt(o,e,l){let{$$slots:n={},$$scope:t}=e;const s=Ye(n);let{title:i=""}=e,{description:a=""}=e,{imagePreset:r=""}=e,{customization:m={}}=e,{transitionDuration:f=300}=e,{keepBodyScroll:u=!1}=e,{enableImageExpand:c=!1}=e,{enableFallbackThumbnail:h=!0}=e,{enableEscapeToClose:w=!0}=e,{enableClickToClose:S=!1}=e,{showCloseButton:F=!0}=e,{isVisible:q=!1}=e,H=!1;const V=()=>{l(0,q=!q),se()},z=()=>{l(0,q=!0),se()},ne=()=>{l(0,q=!1),se()},Q=()=>{(!H||S)&&ne(),H=!1},re=()=>{H=!0};let se=()=>{};const ce={toggle:V,open:z,close:ne};return Ge(()=>{const _=document.body.style.overflow;se=()=>{u||(q?document.body.style.overflow="hidden":document.body.style.overflow=_)}}),o.$$set=_=>{"title"in _&&l(1,i=_.title),"description"in _&&l(2,a=_.description),"imagePreset"in _&&l(3,r=_.imagePreset),"customization"in _&&l(4,m=_.customization),"transitionDuration"in _&&l(5,f=_.transitionDuration),"keepBodyScroll"in _&&l(15,u=_.keepBodyScroll),"enableImageExpand"in _&&l(6,c=_.enableImageExpand),"enableFallbackThumbnail"in _&&l(7,h=_.enableFallbackThumbnail),"enableEscapeToClose"in _&&l(8,w=_.enableEscapeToClose),"enableClickToClose"in _&&l(16,S=_.enableClickToClose),"showCloseButton"in _&&l(9,F=_.showCloseButton),"isVisible"in _&&l(0,q=_.isVisible),"$$scope"in _&&l(19,t=_.$$scope)},[q,i,a,r,m,f,c,h,w,F,V,ne,Q,re,s,u,S,ce,n,t]}class Ft extends U{constructor(e){super(),J(this,e,Nt,Lt,G,{title:1,description:2,imagePreset:3,customization:4,transitionDuration:5,keepBodyScroll:15,enableImageExpand:6,enableFallbackThumbnail:7,enableEscapeToClose:8,enableClickToClose:16,showCloseButton:9,isVisible:0,programmaticController:17})}get programmaticController(){return this.$$.ctx[17]}}function Me(o,e,l){const n=o.slice();return n[7]=e[l],n}function Ht(o){let e;return{c(){e=A("Не запущено")},l(l){e=O(l,"Не запущено")},m(l,n){T(l,e,n)},p:M,i:M,o:M,d(l){l&&d(e)}}}function Mt(o){let e,l;return e=new Ft({props:{$$slots:{default:[Ot]},$$scope:{ctx:o}}}),{c(){W(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,t){Y(e,n,t),l=!0},p(n,t){const s={};t&1040&&(s.$$scope={dirty:t,ctx:n}),e.$set(s)},i(n){l||(v(e.$$.fragment,n),l=!0)},o(n){C(e.$$.fragment,n),l=!1},d(n){Z(e,n)}}}function At(o){let e,l;return e=new st({props:{size:"50",speed:"750",color:"#A82124",thickness:"2",gap:"40"}}),{c(){W(e.$$.fragment)},l(n){X(e.$$.fragment,n)},m(n,t){Y(e,n,t),l=!0},p:M,i(n){l||(v(e.$$.fragment,n),l=!0)},o(n){C(e.$$.fragment,n),l=!1},d(n){Z(e,n)}}}function Ot(o){let e,l;return{c(){e=k("img"),this.h()},l(n){e=p(n,"IMG",{src:!0}),this.h()},h(){je(e.src,l="/api/image/result/"+o[4])||g(e,"src",l)},m(n,t){T(n,e,t)},p(n,t){t&16&&!je(e.src,l="/api/image/result/"+n[4])&&g(e,"src",l)},d(n){n&&d(e)}}}function Ae(o){let e;function l(s,i){return s[1].length>0?Ut:Gt}let n=l(o),t=n(o);return{c(){e=k("td"),t.c()},l(s){e=p(s,"TD",{});var i=P(e);t.l(i),i.forEach(d)},m(s,i){T(s,e,i),t.m(e,null)},p(s,i){n===(n=l(s))&&t?t.p(s,i):(t.d(1),t=n(s),t&&(t.c(),t.m(e,null)))},d(s){s&&d(e),t.d()}}}function Gt(o){let e;return{c(){e=A("На изображении не найдено обьектов")},l(l){e=O(l,"На изображении не найдено обьектов")},m(l,n){T(l,e,n)},p:M,d(l){l&&d(e)}}}function Ut(o){let e,l,n=qe(o[1]),t=[];for(let s=0;s<n.length;s+=1)t[s]=Oe(Me(o,n,s));return{c(){e=A(`Найдено обьектов на изображении:
      `);for(let s=0;s<t.length;s+=1)t[s].c();l=oe()},l(s){e=O(s,`Найдено обьектов на изображении:
      `);for(let i=0;i<t.length;i+=1)t[i].l(s);l=oe()},m(s,i){T(s,e,i);for(let a=0;a<t.length;a+=1)t[a]&&t[a].m(s,i);T(s,l,i)},p(s,i){if(i&2){n=qe(s[1]);let a;for(a=0;a<n.length;a+=1){const r=Me(s,n,a);t[a]?t[a].p(r,i):(t[a]=Oe(r),t[a].c(),t[a].m(l.parentNode,l))}for(;a<t.length;a+=1)t[a].d(1);t.length=n.length}},d(s){s&&(d(e),d(l)),Qe(t,s)}}}function Oe(o){let e,l=o[7].name+"",n,t,s=o[7].count+"",i;return{c(){e=k("p"),n=A(l),t=A(": "),i=A(s)},l(a){e=p(a,"P",{});var r=P(e);n=O(r,l),t=O(r,": "),i=O(r,s),r.forEach(d)},m(a,r){T(a,e,r),E(e,n),E(e,t),E(e,i)},p(a,r){r&2&&l!==(l=a[7].name+"")&&ue(n,l),r&2&&s!==(s=a[7].count+"")&&ue(i,s)},d(a){a&&d(e)}}}function Jt(o){let e,l,n,t,s,i,a,r,m,f,u,c,h="Начать",w,S,F,q,H,V,z,ne,Q,re,se;const ce=[At,Mt,Ht],_=[];function ve(D,y){return D[3]=="process"?0:D[3]=="finished"?1:2}V=ve(o),z=_[V]=ce[V](o);let I=o[1]&&Ae(o);return{c(){e=k("div"),l=k("div"),n=k("p"),t=A(o[2]),s=K(),i=k("div"),a=k("nav"),r=k("a"),m=k("button"),f=A(o[0]),u=K(),c=k("button"),c.textContent=h,w=K(),S=k("table"),F=k("tr"),q=k("td"),H=k("div"),z.c(),ne=K(),I&&I.c(),this.h()},l(D){e=p(D,"DIV",{class:!0});var y=P(e);l=p(y,"DIV",{class:!0});var x=P(l);n=p(x,"P",{});var ke=P(n);t=O(ke,o[2]),ke.forEach(d),s=R(x),i=p(x,"DIV",{class:!0});var pe=P(i);a=p(pe,"NAV",{});var Pe=P(a);r=p(Pe,"A",{class:!0});var me=P(r);m=p(me,"BUTTON",{class:!0});var Ee=P(m);f=O(Ee,o[0]),Ee.forEach(d),u=R(me),c=p(me,"BUTTON",{class:!0,"data-svelte-h":!0}),Ze(c)!=="svelte-cckeil"&&(c.textContent=h),me.forEach(d),Pe.forEach(d),pe.forEach(d),x.forEach(d),y.forEach(d),w=R(D),S=p(D,"TABLE",{class:!0});var Ce=P(S);F=p(Ce,"TR",{});var de=P(F);q=p(de,"TD",{});var Te=P(q);H=p(Te,"DIV",{class:!0});var De=P(H);z.l(De),De.forEach(d),Te.forEach(d),ne=R(de),I&&I.l(de),de.forEach(d),Ce.forEach(d),this.h()},h(){g(m,"class","result-button-2"),g(c,"class","result-button-2"),g(r,"class","result-box-button"),g(i,"class","column-result-box"),g(l,"class","column-result"),g(e,"class","row"),g(H,"class","prcessed-img"),g(S,"class","prcessed-img-table")},m(D,y){T(D,e,y),E(e,l),E(l,n),E(n,t),E(l,s),E(l,i),E(i,a),E(a,r),E(r,m),E(m,f),E(r,u),E(r,c),T(D,w,y),T(D,S,y),E(S,F),E(F,q),E(q,H),_[V].m(H,null),E(F,ne),I&&I.m(F,null),Q=!0,re||(se=ie(c,"click",o[5]),re=!0)},p(D,[y]){(!Q||y&4)&&ue(t,D[2]),(!Q||y&1)&&ue(f,D[0]);let x=V;V=ve(D),V===x?_[V].p(D,y):(_e(),C(_[x],1,1,()=>{_[x]=null}),he(),z=_[V],z?z.p(D,y):(z=_[V]=ce[V](D),z.c()),v(z,1),z.m(H,null)),D[1]?I?I.p(D,y):(I=Ae(D),I.c(),I.m(F,null)):I&&(I.d(1),I=null)},i(D){Q||(v(z),Q=!0)},o(D){C(z),Q=!1},d(D){D&&(d(e),d(w),d(S)),_[V].d(),I&&I.d(),re=!1,se()}}}function Kt(o,e,l){let n;Ue(o,et,f=>l(4,n=f));let t,s="Не запущено",i=null,a="Не запущено",r="notstarted";async function m(){try{const f=await fetch("/api/image/start_task/"+n,{method:"POST",body:null});l(2,a="Запуск обработки...");const u=await f.json();t=new WebSocket("wss://"+location.hostname+(location.port?":"+location.port:"")+"/api/image/status/"+n),t.addEventListener("message",c=>{const h=JSON.parse(c.data);console.log(h),l(0,s=h.status),l(3,r=h.stage),l(2,a=h.title_text),r=="finished"&&l(1,i=h.found_objects)}),console.log(u)}catch(f){console.error("Error uploading file:",f)}}return[s,i,a,r,n,m]}class Zt extends U{constructor(e){super(),J(this,e,Kt,Jt,G,{})}}export{Zt as component};
